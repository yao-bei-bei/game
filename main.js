/*! v0.11 */
!function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){(function(e){var t=n(2),i=n(5),o=n(6),r=n(7),a=n(8),c=n(9);window.Promise||(window.Promise=c),n(12);var s=n(3),l=n(13),u={J_loading:e("#padt_loading")||null,trackPrefix:window.CONF.trackPrefix,subTitleArray:window.CONF.subTitleConf.content,cookiePrefix:window.CONF.cookiePrefix||"",gameResultInfo:null};u.init=function(){u.checkEnv(),u.getModuleID(),u.initPopup(),u.initGame(),u.loadingGame(),u.initShare()},u.loadingGame=function(){var n=t.queryString("open"),i="undefined"!=typeof XView,o=r.get(this.cookiePrefix+"gomall"),a=t.queryString("xview");"true"==o?(u.showPopupBackFromMall(),r.add(this.cookiePrefix+"gomall","false",0,void 0,"m.jd.com")):n&&"false"!=r.get(this.cookiePrefix+"Gamec")?(u.lottery(u.getModuleIdxAndInfoAfterLogin().moduleIdx),r.add(this.cookiePrefix+"Gamec","false",0,void 0,"m.jd.com")):i?a?u.startGameCheck():window.XViewShowCallback=u.startGameCheck:e(window).on("load",u.startGameCheck)},u.initPopup=function(){game.popup.preinit({handlers:{share:function(e){u.callShare(e)},coupon:function(e){u.toCoupon(e)},login:function(e){u.toLogin(e)},home:function(e){u.toHome(e)},go:function(e){u.toMall(e)},jump:function(e){u.jump(e)},call:function(e){u.call(e)},sku:function(e){u.sku(e)},shop:function(e){u.shop(e)},cart:function(e){u.cart(e)},addCart:function(e){u.addCart(e)},replay:function(e){u.replayGame(e)},reload:function(e){u.reload(e)},copyShareOpen:function(e){u.openWXHandle()},onHideCopyShare:function(e){u.firstCharToUpperCaseAndReportData("","CloseSharePage")},onSlicePrize:function(e){u.reported||(u.firstCharToUpperCaseAndReportData("","SlideProduct"),u.reported=!0)}},cookieObj:{get:r.get,add:r.add,del:r.del},shareMethods:{callShare:i&&i.callSharePane,initShare:u.initShare},setGameResultInfo:function(e){u.gameResultInfo=e}}).init(window.CONF.popup)},u.initGame=function(){game.init({onTapStartBtn:function(){u.firstCharToUpperCaseAndReportData("StartGame","")},onPrepareEnd:function(){u.firstCharToUpperCaseAndReportData("StartGameAuto","")},onDraw:function(e){var t=e.moduleIdx||0;u.lottery(t)},onHit:function(e){}})},u.getModuleID=function(){var e,n,i=t.queryString("id")||"",o=window.CONF.gameConf&&window.CONF.gameConf[i];if(u.id=i,o){if(n=o.moduleId&&"[object Array]"===Object.prototype.toString.call(o.moduleId)&&o.moduleId.length>0?o.moduleId:window.CONF.lotteryConf.moduleId||[],o.time){var r=+new Date(o.time);e=r?+new Date(o.time):void 0}else e=void 0;u.gameConf={time:e,moduleId:n,len:n.length}}else n=window.CONF.lotteryConf.moduleId||[],u.gameConf={moduleId:n,len:n.length}},u.startGameCheck=function(){t.reportPV(),u.showLoading(!0),u.startGame()},u.startGame=function(){u.showLoading(!1),game.start()},u.showLoading=function(e){try{u.J_loading&&(e?this.J_loading.show():this.J_loading.hide())}catch(e){}},u.ajax=function(t,n){n&&u.showLoading(!0),e.ajax({url:t.url,dataType:"jsonp",type:"GET",timeout:window.CONF.timeout||5e3,data:t.data,success:function(e){u.firstCharToUpperCaseAndReportData("","InterfaceSucceed",[e.code||"",e.subCode||"",e.couponValue||""].join("_")),u.showLoading(!1);var n;n=null===e.code||void 0===e.code||""===e.code?1:"string"==typeof e.code?+e.code:e.code,0==n?t.success&&"function"==typeof t.success&&t.success(e):3==n?u.hackLoginStatus():t.subCodeError&&"function"==typeof t.subCodeError&&t.subCodeError(e)},error:function(e,n,i){u.showLoading(!1),t.subCodeError&&"function"==typeof t.subCodeError&&t.subCodeError()}})},u.hackLoginStatus=function(e){if(u.showLoading(!1),u.firstCharToUpperCaseAndReportData("","NotLogin"),e)u.showLogin();else try{var t=r.get("pwdt_id");t&&"******"!=t?u.toLogin():u.showLogin()}catch(e){u.showLogin()}},u.getModuleIdxAndInfoAfterLogin=function(){return{moduleIdx:game.popup.getModuleIdx(),resultInfo:game.popup.getGameRet()}},u.lottery=function(e,t){u.firstCharToUpperCaseAndReportData("","LotteryInterface");var n,i=window.CONF.lotteryConf;t?n=u.retryModuleId:(!e||e<=0?e=1:e>u.gameConf.len&&(e=u.gameConf.len),n=u.gameConf.moduleId[e-1]||"",u.retryModuleId=n||""),u.ajax({url:"//"+(window.CONF.host||"api.m.jd.com")+"/client.action",data:{functionId:window.CONF.functionId||"babelActivityLuckDraw",client:"wh5",clientVersion:"1.0.0",body:JSON.stringify({activityId:i.activityId,pageId:i.pageId,moduleId:n})},success:function(e){console.log(e);var t,n;t=null===e.subCode||void 0===e.subCode||""===e.subCode?1:e.subCode,0==t?(n=u.processCoupon(e),n?0==n.name||1==n.name?u.showCoupon(n):3==n.name?u.showEntity(n):2==n.name&&u.showUnstore(n):u.showFail("",!0)):u.showFail(t,!0)},subCodeError:function(e){e?u.showFail(e.code,!1):u.retry()}},!0)},u.processCoupon=function(t){var n=[],i=t.couponName||"",o=i.split("_"),r=o[0],a=o[1]||"",c=t.lotteryContent+"",s=t.couponContent||"",l=t.couponValue||"",u=[],f=0,p=0,d="#";if(void 0===r||""===r||null===r)return!1;if(0==r){if(!c)return!1;if(e.each(s.split(d),function(e,t){u.push(t||"")}),c.indexOf(d)==-1)return!1;c[0]==d&&(c=c.substring(1));var h=c.split(d);if(h>3&&(h=h.slice(0,3)),e.each(h,function(e,t){var i=t+"";if(i.indexOf("_")!=-1){var o=i.split("_");if(3==o.length){var r=o,c=r[0],s=r[1];n.push({val:c,cond:s,cate:u[e]||"",tips:r[2],cls:a}),+c!=+c?c=0:"string"==typeof c&&(c=+c),p+=c}else f++}else f++}),f==h.length)return!1}else if(1==r){if(!c)return!1;if(c.indexOf("_")==-1)return!1;var m=c.split("_");if(3!=m.length)return!1;var g=m,y=g[0],v=g[1];n.push({val:y,cond:v,cate:s||"",tips:g[2],cls:a}),+y!=+y?y=0:"string"==typeof y&&(y=+y),p+=y}else if(2==r);else if(3!=r)return!1;return 0==r||1==r?{name:r,pack:n,total:p}:2==r?{name:r,val:l,tips:c,cate:s,cls:a}:3==r&&{name:r,val:l,tips:c,cate:s,cls:a}},u.checkEnv=function(){var e=window.navigator.userAgent.toLowerCase(),t=/MicroMessenger/i.test(e),n=e.indexOf("jdapp")!=-1,i=e.indexOf("iphone")!=-1,o=(e.indexOf("android")!=-1,e.indexOf("MQQBrowser")!=-1),r=e.split(";");n?this.env="jdApp":t?this.env="wxApp":this.env="browser",i?this.OS="iphone":this.OS="android",this.inQQ=o;var a=function(){return n&&r[2]?r[2].replace(/\./g,""):""}();this.jdApp520=function(){return n&&a>=520}(),this.jdApp560=function(){return n&&a>=560}(),this.jdAppClientVersion=function(){return n&&a>=(window.CONF.clientVersion||560)}()},u.getShareConf=function(t,n){function i(e){var t;e.replace(/{\w*}/i,function(e){t=e.substring(1,e.length-1)});var n=game.popup.getGameRet();return e.replace(/{\w*}/gi,n&&n[t]||"")}var o=window.CONF.shareConf;if("jdApp"==u.env&&u.gameResultInfo){var r=Object.prototype.toString;"[object Object]"==r.call(o.random.app)?n&&"[object Array]"==r.call(o.random.app[n])?randomArr=o.random.app[n]:randomArr=o.random.wx:"[object Array]"==r.call(o.random.app)?randomArr=o.random.app:randomArr=o.random.wx}else randomArr=o.random.wx;var a=Math.floor(Math.random()*randomArr.length),c=(o.url||window.location.href).split("?")[0]+(u.id?"?id="+u.id:""),s=i(randomArr[a].img||o.img||""),l=i(randomArr[a].url||o.url||"")||c,f=i(randomArr[a].title||""),p=i(randomArr[a].content||""),d=i(randomArr[a].timeline_title||""),h=o.longImg&&u.jdAppClientVersion?"Wxfriends,Wxmoments,QQfriends,QQzone,QRCode":"Wxfriends,Wxmoments,QQfriends,QQzone",m={title:f,img:s.replace(/^(?=\/\/)/,location.protocol),url:l,channel:h,content:p,desc:p,timeline_title:d};return o.longImg&&u.jdAppClientVersion&&(m.qrparam={qr_direct:o.longImg||""}),t&&e.extend(m,{channel:"QRCode"}),m},u.getSubTitle=function(e,t){function n(e){var t;return e.replace(/{\w*}/i,function(e){t=e.substring(1,e.length-1)}),e.replace(/{\w*}/gi,u.gameResultInfo&&u.gameResultInfo[t]||"")}if(void 0==e||!this.subTitleArray.length)return window.CONF.subTitleConf.default||"";var i=e+"",o="";return t?(o="1"==i?this.subTitleArray[3]:"-1"==i?this.subTitleArray[4]:i.indexOf("1-")!=-1?this.subTitleArray[5]:i.indexOf("3-")!=-1?this.subTitleArray[6]:"2-1"==i?this.subTitleArray[7]:"4-2"==i?this.subTitleArray[8]:"4-5"==i?this.subTitleArray[9]:i.indexOf("5-")!=-1?this.subTitleArray[10]:i.indexOf("6-")!=-1&&"6-1"!=i?this.subTitleArray[11]:"6-1"==i?this.subTitleArray[12]:this.subTitleArray[13],n(o||window.CONF.subTitleConf.default||"")):(o="1"==i?this.subTitleArray[0]:"-1"==i?this.subTitleArray[1]:"-701"==i?this.subTitleArray[2]:window.CONF.subTitleConf.default||"",n(o||window.CONF.subTitleConf.default||""))},u.firstCharToUpperCaseAndReportData=function(e,n,i){var e=e?e.replace(e.charAt(0),e.charAt(0).toUpperCase()):"",o=window.CONF.trackParam,r=o.activityId,a=o.groupId,c=o.advertIds,s=c[e+n],l=[];s&&l.push(r,s,a,1),i&&l.push(i),t.reportData(u.trackPrefix+e+n,l.join("_"))},u.initShare=function(){var e={},t=u.getShareConf();"jdApp"!=this.env?"wxApp"==this.env?o.init(t):(e.url=t.url,e.img=t.img,e.title=t.title,e.content=t.content,e.channel="weixin",this.shareObj||(this.shareObj=new a(e,u.showCopyShare))):"undefined"==typeof XView&&setTimeout(function(){i&&i.setShareInfo(t)},0)},u.closeGame=function(){t.closeXView()},u.callShare=function(e){u.firstCharToUpperCaseAndReportData(e.type,"Share");var t=window.CONF.shareConf,n=game.popup.getShareKey();if("jdApp"==this.env){"undefined"!=typeof XView;try{t.longImg&&u.jdAppClientVersion?i&&i.sendDirectShare(u.getShareConf(!0)):i&&i.callSharePane(u.getShareConf(!1,n))}catch(e){}}else"wxApp"==this.env?u.showShareTips():u.shareObj.callShare()},u.openWXHandle=function(){var e="//weixin.qq.com/";try{u.firstCharToUpperCaseAndReportData("","OpenWX"),window.location.href="weixin://";var t=1e3;setTimeout(function(){window.location.href=e},t)}catch(t){window.location.href=e}},u.replayGame=function(e){u.firstCharToUpperCaseAndReportData(e.type,"RePlay"),u.closePopup(),u.startGame()},u.reload=function(e){u.firstCharToUpperCaseAndReportData(e.type,"Reload"),setTimeout(function(){location.reload()},1e3)},u.toHome=function(e){u.firstCharToUpperCaseAndReportData(e.type,"ReturnHome");var n="",i="openApp.jdMobile://360buy?type=1",o='openApp.jdMobile://virtual?params={"category":"jump","des":"HomePage"}',r="http://m.jd.com";n="iphone"==this.OS?o:i,"jdApp"==this.env?"undefined"!=typeof XView?(s.toHome(),this.closeGame()):s.toHome():t.openJdApp(n,r)},u.toLogin=function(e){u.firstCharToUpperCaseAndReportData("","Login"),r.add(this.cookiePrefix+"Gamec","true",0,void 0,"m.jd.com");var n=window.location.href;t.queryString("open")||(n=t.addParamToUrl(n,"open",!0)),"undefined"!=typeof XView&&(n=t.addParamToUrl(n,"xview","true")),t.delay(function(){t.goLogin(n)})},u.toCoupon=function(e){u.firstCharToUpperCaseAndReportData(e.type,"MyCoupon");var n='openApp.jdMobile://virtual?params={"category":"jump","des":"mycoupon","sourceValue":"sourceValue_test","sourceType":"sourceType_test"}',i="http://home.m.jd.com/wallet/coupons.action";e.type;"jdApp"==this.env?t.delay(function(){location.href=n,"undefined"!=typeof window.XView&&setTimeout(function(){u.closeGame()},1e3)}):(u.savePopupInfo(e),t.openJdApp(n,i))},u.toMall=function(e){u.firstCharToUpperCaseAndReportData(e.type,"GoUrl");var n=window.CONF.mallURL;if(n){var i=encodeURIComponent(n),o='openApp.jdMobile://virtual?params={"category":"jump","des":"getCoupon","action":"to","url":"'+i+'","landPageId":"mtun"}';"jdApp"==this.env?setTimeout(function(){s.openNewWebView(n)},1e3):(u.savePopupInfo(e),t.openJdApp(o,window.CONF.mallURL))}},u.jump=function(e){u.firstCharToUpperCaseAndReportData(e.type,"GoUrl"+e.urlIdx);var n=window.CONF.jumpUrls[e.urlIdx];if(n){var i=encodeURIComponent(n),o='openApp.jdMobile://virtual?params={"category":"jump","des":"getCoupon","action":"to","url":"'+i+'","landPageId":"mtun"}';"jdApp"==this.env?setTimeout(function(){s.openNewWebView(n)},1e3):(u.savePopupInfo(e),t.openJdApp(o,n))}},u.call=function(e){u.firstCharToUpperCaseAndReportData(e.type,"Call"+e.urlIdx);var n=window.CONF.jumpUrls[e.urlIdx];if(n){var i=encodeURIComponent(n),o='openApp.jdMobile://virtual?params={"category":"jump","des":"getCoupon","action":"to","url":"'+i+'","landPageId":"mtun"}';"jdApp"==this.env?setTimeout(function(){s.openNewWebView(n)},1e3):(u.savePopupInfo(e),t.openJdApp(o,"https://h5.m.jd.com/active/download/download.html"))}},u.sku=function(e){u.firstCharToUpperCaseAndReportData(e.type,"Sku"+e.idIdx);var n=window.CONF.skuIds[e.idIdx];if(null!=n){var i='openApp.jdMobile://virtual?params={"category":"jump","des":"productDetail","skuId":"'+n+'"}',o="//item.m.jd.com/ware/view.action?wareId="+n;"jdApp"==this.env?s.toProduct(n):(u.savePopupInfo(e),t.openJdApp(i,o))}},u.shop=function(e){u.firstCharToUpperCaseAndReportData(e.type,"Shop"+e.idIdx);var n=window.CONF.shopIds[e.idIdx];if(null!=n){var i='openApp.jdMobile://virtual?params={"category":"jump","des":"jshopMain","shopId":"'+n+'"}',o="//ok.jd.com/m/index-"+n+".htm";"jdApp"==this.env?s.toShop(n):(u.savePopupInfo(e),t.openJdApp(i,o))}},u.cart=function(e){u.firstCharToUpperCaseAndReportData(e.type,"Cart"),t.delay(function(){"jdApp"==this.env?s.toCart():(u.savePopupInfo(e),location.href="//p.m.jd.com/cart/cart.action")}.bind(this))},u.addCart=function(e){var t=e.idIdx;u.firstCharToUpperCaseAndReportData(e.type,"AddCart"+t),l.addToCart(window.CONF.skuIds[t],r.get("sid")).then(function(t){t.login&&"0"==t.login?location.href="https://passport.m.jd.com/user/login.action?v=1&returnurl="+encodeURI(location.href):t.cart?e.onSuc&&e.onSuc():e.onFail&&e.onFail()}).catch(function(){e.onFail&&e.onFail()})},u.savePopupInfo=function(e){window.history.replaceState&&window.history.replaceState({type:e.type},""),r.add(this.cookiePrefix+"gomall","true",0,void 0,"m.jd.com")},u.showPopupBackFromMall=function(){var e,t=history.state;t&&(e=t.type,game.popup[e]&&game.popup[e](null,!0))},u.closePopup=function(){game.popup.hide(!0)},u.showCoupon=function(e,t){void 0==t?game.popup.coupon({pack:e.pack,total:e.total,info:u.gameResultInfo}):game.popup.coupon({pack:e.pack,total:e.total,info:u.gameResultInfo},!0)},u.showNoCoupon=function(e){void 0==e?game.popup.noCoupon():game.popup.noCoupon(!0)},u.showFail=function(e,t){game.popup.fail({title:u.getSubTitle(e,t),info:u.gameResultInfo})},u.showLogin=function(){game.popup.login()},u.showEntity=function(t,n){e.extend(t,{info:u.gameResultInfo}),void 0==n?game.popup.entity(t):game.popup.entity(t,!0)},u.showUnstore=function(t,n){e.extend(t,{info:u.gameResultInfo}),void 0==n?game.popup.unstore(t):game.popup.unstore(t,!0)},u.showShareTips=function(){game.popup.shareTips()},u.showCopyShare=function(){game.popup.copyShare("{project}"+u.getShareConf().title+"：","{project}"+u.getShareConf().url,{project:""})},u.showMiss=function(e){game.popup.miss({},e)},u.showAlready=function(e){void 0==e?game.popup.already():game.popup.already(!0)},u.retry=function(){u.firstCharToUpperCaseAndReportData("","NetworkAnomaly"),game.popup.retry(function(){u.firstCharToUpperCaseAndReportData("","Reconnect"),u.lottery(void 0,!0)})},e(function(){u.init()})}).call(t,n(1))},function(e,t){var n=function(){function e(e){return null==e?String(e):Q[G.call(e)]||"object"}function t(t){return"function"==e(t)}function n(e){return null!=e&&e==e.window}function i(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE}function o(t){return"object"==e(t)}function r(e){return o(e)&&!n(e)&&Object.getPrototypeOf(e)==Object.prototype}function a(e){return"number"==typeof e.length}function c(e){return x.call(e,function(e){return null!=e})}function s(e){return e.length>0?A.fn.concat.apply([],e):e}function l(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function u(e){return e in P?P[e]:P[e]=new RegExp("(^|\\s)"+e+"(\\s|$)")}function f(e,t){return"number"!=typeof t||E[l(e)]?t:t+"px"}function p(e){var t,n;return N[e]||(t=O.createElement(e),O.body.appendChild(t),n=getComputedStyle(t,"").getPropertyValue("display"),t.parentNode.removeChild(t),"none"==n&&(n="block"),N[e]=n),N[e]}function d(e){return"children"in e?_.call(e.children):A.map(e.childNodes,function(e){if(1==e.nodeType)return e})}function h(e,t,n){for(S in t)n&&(r(t[S])||Z(t[S]))?(r(t[S])&&!r(e[S])&&(e[S]={}),Z(t[S])&&!Z(e[S])&&(e[S]=[]),h(e[S],t[S],n)):t[S]!==C&&(e[S]=t[S])}function m(e,t){return null==t?A(e):A(e).filter(t)}function g(e,n,i,o){return t(n)?n.call(e,i,o):n}function y(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function v(e,t){var n=e.className||"",i=n&&n.baseVal!==C;return t===C?i?n.baseVal:n:void(i?n.baseVal=t:e.className=t)}function w(e){try{return e?"true"==e||"false"!=e&&("null"==e?null:+e+""==e?+e:/^[\[\{]/.test(e)?A.parseJSON(e):e):e}catch(t){return e}}function b(e,t){t(e);for(var n=0,i=e.childNodes.length;n<i;n++)b(e.childNodes[n],t)}var C,S,A,k,I,j,T=[],_=T.slice,x=T.filter,O=window.document,N={},P={},E={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},R=/^\s*<(\w+|!)[^>]*>/,U=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,B=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,L=/^(?:body|html)$/i,M=/([A-Z])/g,q=["val","css","html","text","data","width","height","offset"],D=["after","prepend","before","append"],H=O.createElement("table"),F=O.createElement("tr"),J={tr:O.createElement("tbody"),tbody:H,thead:H,tfoot:H,td:F,th:F,"*":O.createElement("div")},W=/complete|loaded|interactive/,V=/^[\w-]*$/,Q={},G=Q.toString,X={},z=O.createElement("div"),$={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},Z=Array.isArray||function(e){return e instanceof Array};return X.matches=function(e,t){if(!t||!e||1!==e.nodeType)return!1;var n=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector;if(n)return n.call(e,t);var i,o=e.parentNode,r=!o;return r&&(o=z).appendChild(e),i=~X.qsa(o,t).indexOf(e),r&&z.removeChild(e),i},I=function(e){return e.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})},j=function(e){return x.call(e,function(t,n){return e.indexOf(t)==n})},X.fragment=function(e,t,n){var i,o,a;return U.test(e)&&(i=A(O.createElement(RegExp.$1))),i||(e.replace&&(e=e.replace(B,"<$1></$2>")),t===C&&(t=R.test(e)&&RegExp.$1),t in J||(t="*"),a=J[t],a.innerHTML=""+e,i=A.each(_.call(a.childNodes),function(){a.removeChild(this)})),r(n)&&(o=A(i),A.each(n,function(e,t){q.indexOf(e)>-1?o[e](t):o.attr(e,t)})),i},X.Z=function(e,t){return e=e||[],e.__proto__=A.fn,e.selector=t||"",e},X.isZ=function(e){return e instanceof X.Z},X.init=function(e,n){var i;if(!e)return X.Z();if("string"==typeof e)if(e=e.trim(),"<"==e[0]&&R.test(e))i=X.fragment(e,RegExp.$1,n),e=null;else{if(n!==C)return A(n).find(e);i=X.qsa(O,e)}else{if(t(e))return A(O).ready(e);if(X.isZ(e))return e;if(Z(e))i=c(e);else if(o(e))i=[e],e=null;else if(R.test(e))i=X.fragment(e.trim(),RegExp.$1,n),e=null;else{if(n!==C)return A(n).find(e);i=X.qsa(O,e)}}return X.Z(i,e)},A=function(e,t){return X.init(e,t)},A.extend=function(e){var t,n=_.call(arguments,1);return"boolean"==typeof e&&(t=e,e=n.shift()),n.forEach(function(n){h(e,n,t)}),e},X.qsa=function(e,t){var n,o="#"==t[0],r=!o&&"."==t[0],a=o||r?t.slice(1):t,c=V.test(a);return i(e)&&c&&o?(n=e.getElementById(a))?[n]:[]:1!==e.nodeType&&9!==e.nodeType?[]:_.call(c&&!o?r?e.getElementsByClassName(a):e.getElementsByTagName(t):e.querySelectorAll(t))},A.contains=O.documentElement.contains?function(e,t){return e!==t&&e.contains(t)}:function(e,t){for(;t&&(t=t.parentNode);)if(t===e)return!0;return!1},A.type=e,A.isFunction=t,A.isWindow=n,A.isArray=Z,A.isPlainObject=r,A.isEmptyObject=function(e){var t;for(t in e)return!1;return!0},A.inArray=function(e,t,n){return T.indexOf.call(t,e,n)},A.camelCase=I,A.trim=function(e){return null==e?"":String.prototype.trim.call(e)},A.uuid=0,A.support={},A.expr={},A.map=function(e,t){var n,i,o,r=[];if(a(e))for(i=0;i<e.length;i++)n=t(e[i],i),null!=n&&r.push(n);else for(o in e)n=t(e[o],o),null!=n&&r.push(n);return s(r)},A.each=function(e,t){var n,i;if(a(e)){for(n=0;n<e.length;n++)if(t.call(e[n],n,e[n])===!1)return e}else for(i in e)if(t.call(e[i],i,e[i])===!1)return e;return e},A.grep=function(e,t){return x.call(e,t)},window.JSON&&(A.parseJSON=JSON.parse),A.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Q["[object "+t+"]"]=t.toLowerCase()}),A.fn={forEach:T.forEach,reduce:T.reduce,push:T.push,sort:T.sort,indexOf:T.indexOf,concat:T.concat,map:function(e){return A(A.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return A(_.apply(this,arguments))},ready:function(e){return W.test(O.readyState)&&O.body?e(A):O.addEventListener("DOMContentLoaded",function(){e(A)},!1),this},get:function(e){return e===C?_.call(this):this[e>=0?e:e+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(e){return T.every.call(this,function(t,n){return e.call(t,n,t)!==!1}),this},filter:function(e){return t(e)?this.not(this.not(e)):A(x.call(this,function(t){return X.matches(t,e)}))},add:function(e,t){return A(j(this.concat(A(e,t))))},is:function(e){return this.length>0&&X.matches(this[0],e)},not:function(e){var n=[];if(t(e)&&e.call!==C)this.each(function(t){e.call(this,t)||n.push(this)});else{var i="string"==typeof e?this.filter(e):a(e)&&t(e.item)?_.call(e):A(e);this.forEach(function(e){i.indexOf(e)<0&&n.push(e)})}return A(n)},has:function(e){return this.filter(function(){return o(e)?A.contains(this,e):A(this).find(e).size()})},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){var e=this[0];return e&&!o(e)?e:A(e)},last:function(){var e=this[this.length-1];return e&&!o(e)?e:A(e)},find:function(e){var t,n=this;return t=e?"object"==typeof e?A(e).filter(function(){var e=this;return T.some.call(n,function(t){return A.contains(t,e)})}):1==this.length?A(X.qsa(this[0],e)):this.map(function(){return X.qsa(this,e)}):A()},closest:function(e,t){var n=this[0],o=!1;for("object"==typeof e&&(o=A(e));n&&!(o?o.indexOf(n)>=0:X.matches(n,e));)n=n!==t&&!i(n)&&n.parentNode;return A(n)},parents:function(e){for(var t=[],n=this;n.length>0;)n=A.map(n,function(e){if((e=e.parentNode)&&!i(e)&&t.indexOf(e)<0)return t.push(e),e});return m(t,e)},parent:function(e){return m(j(this.pluck("parentNode")),e)},children:function(e){return m(this.map(function(){return d(this)}),e)},contents:function(){return this.map(function(){return _.call(this.childNodes)})},siblings:function(e){return m(this.map(function(e,t){return x.call(d(t.parentNode),function(e){return e!==t})}),e)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(e){return A.map(this,function(t){return t[e]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=p(this.nodeName))})},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){var n=t(e);if(this[0]&&!n)var i=A(e).get(0),o=i.parentNode||this.length>1;return this.each(function(t){A(this).wrapAll(n?e.call(this,t):o?i.cloneNode(!0):i)})},wrapAll:function(e){if(this[0]){A(this[0]).before(e=A(e));for(var t;(t=e.children()).length;)e=t.first();A(e).append(this)}return this},wrapInner:function(e){var n=t(e);return this.each(function(t){var i=A(this),o=i.contents(),r=n?e.call(this,t):e;o.length?o.wrapAll(r):i.append(r)})},unwrap:function(){return this.parent().each(function(){A(this).replaceWith(A(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(e){return this.each(function(){var t=A(this);(e===C?"none"==t.css("display"):e)?t.show():t.hide()})},prev:function(e){return A(this.pluck("previousElementSibling")).filter(e||"*")},next:function(e){return A(this.pluck("nextElementSibling")).filter(e||"*")},html:function(e){return 0 in arguments?this.each(function(t){var n=this.innerHTML;A(this).empty().append(g(this,e,t,n))}):0 in this?this[0].innerHTML:null},text:function(e){return 0 in arguments?this.each(function(t){var n=g(this,e,t,this.textContent);this.textContent=null==n?"":""+n}):0 in this?this[0].textContent:null},attr:function(e,t){var n;return"string"!=typeof e||1 in arguments?this.each(function(n){if(1===this.nodeType)if(o(e))for(S in e)y(this,S,e[S]);else y(this,e,g(this,t,n,this.getAttribute(e)))}):this.length&&1===this[0].nodeType?!(n=this[0].getAttribute(e))&&e in this[0]?this[0][e]:n:C},removeAttr:function(e){return this.each(function(){1===this.nodeType&&e.split(" ").forEach(function(e){y(this,e)},this)})},prop:function(e,t){return e=$[e]||e,1 in arguments?this.each(function(n){this[e]=g(this,t,n,this[e])}):this[0]&&this[0][e]},data:function(e,t){var n="data-"+e.replace(M,"-$1").toLowerCase(),i=1 in arguments?this.attr(n,t):this.attr(n);return null!==i?w(i):C},val:function(e){return 0 in arguments?this.each(function(t){this.value=g(this,e,t,this.value)}):this[0]&&(this[0].multiple?A(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(e){if(e)return this.each(function(t){var n=A(this),i=g(this,e,t,n.offset()),o=n.offsetParent().offset(),r={top:i.top-o.top,left:i.left-o.left};"static"==n.css("position")&&(r.position="relative"),n.css(r)});if(!this.length)return null;var t=this[0].getBoundingClientRect();return{left:t.left+window.pageXOffset,top:t.top+window.pageYOffset,width:Math.round(t.width),height:Math.round(t.height)}},css:function(t,n){if(arguments.length<2){var i,o=this[0];if(!o)return;if(i=getComputedStyle(o,""),"string"==typeof t)return o.style[I(t)]||i.getPropertyValue(t);if(Z(t)){var r={};return A.each(t,function(e,t){r[t]=o.style[I(t)]||i.getPropertyValue(t)}),r}}var a="";if("string"==e(t))n||0===n?a=l(t)+":"+f(t,n):this.each(function(){this.style.removeProperty(l(t))});else for(S in t)t[S]||0===t[S]?a+=l(S)+":"+f(S,t[S])+";":this.each(function(){this.style.removeProperty(l(S))});return this.each(function(){this.style.cssText+=";"+a})},index:function(e){return e?this.indexOf(A(e)[0]):this.parent().children().indexOf(this[0])},hasClass:function(e){return!!e&&T.some.call(this,function(e){return this.test(v(e))},u(e))},addClass:function(e){return e?this.each(function(t){if("className"in this){k=[];var n=v(this),i=g(this,e,t,n);i.split(/\s+/g).forEach(function(e){A(this).hasClass(e)||k.push(e)},this),k.length&&v(this,n+(n?" ":"")+k.join(" "))}}):this},removeClass:function(e){return this.each(function(t){if("className"in this){if(e===C)return v(this,"");k=v(this),g(this,e,t,k).split(/\s+/g).forEach(function(e){k=k.replace(u(e)," ")}),v(this,k.trim())}})},toggleClass:function(e,t){return e?this.each(function(n){var i=A(this),o=g(this,e,n,v(this));o.split(/\s+/g).forEach(function(e){(t===C?!i.hasClass(e):t)?i.addClass(e):i.removeClass(e)})}):this},scrollTop:function(e){if(this.length){var t="scrollTop"in this[0];return e===C?t?this[0].scrollTop:this[0].pageYOffset:this.each(t?function(){this.scrollTop=e}:function(){this.scrollTo(this.scrollX,e)})}},scrollLeft:function(e){if(this.length){var t="scrollLeft"in this[0];return e===C?t?this[0].scrollLeft:this[0].pageXOffset:this.each(t?function(){this.scrollLeft=e}:function(){this.scrollTo(e,this.scrollY)})}},position:function(){if(this.length){var e=this[0],t=this.offsetParent(),n=this.offset(),i=L.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(A(e).css("margin-top"))||0,n.left-=parseFloat(A(e).css("margin-left"))||0,i.top+=parseFloat(A(t[0]).css("border-top-width"))||0,i.left+=parseFloat(A(t[0]).css("border-left-width"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||O.body;e&&!L.test(e.nodeName)&&"static"==A(e).css("position");)e=e.offsetParent;return e})}},A.fn.detach=A.fn.remove,["width","height"].forEach(function(e){var t=e.replace(/./,function(e){return e[0].toUpperCase()});A.fn[e]=function(o){var r,a=this[0];return o===C?n(a)?a["inner"+t]:i(a)?a.documentElement["scroll"+t]:(r=this.offset())&&r[e]:this.each(function(t){a=A(this),a.css(e,g(this,o,t,a[e]()))})}}),D.forEach(function(t,n){var i=n%2;A.fn[t]=function(){var t,o,r=A.map(arguments,function(n){return t=e(n),"object"==t||"array"==t||null==n?n:X.fragment(n)}),a=this.length>1;return r.length<1?this:this.each(function(e,t){o=i?t:t.parentNode,t=0==n?t.nextSibling:1==n?t.firstChild:2==n?t:null;var c=A.contains(O.documentElement,o);r.forEach(function(e){if(a)e=e.cloneNode(!0);else if(!o)return A(e).remove();o.insertBefore(e,t),c&&b(e,function(e){null==e.nodeName||"SCRIPT"!==e.nodeName.toUpperCase()||e.type&&"text/javascript"!==e.type||e.src||window.eval.call(window,e.innerHTML)})})})},A.fn[i?t+"To":"insert"+(n?"Before":"After")]=function(e){return A(e)[t](this),this}}),X.Z.prototype=A.fn,X.uniq=j,X.deserializeValue=w,A.zepto=X,A}();window.Zepto=n,void 0===window.$&&(window.$=n),function(e){function t(e){return e._zid||(e._zid=p++)}function n(e,n,r,a){if(n=i(n),n.ns)var c=o(n.ns);return(g[t(e)]||[]).filter(function(e){return e&&(!n.e||e.e==n.e)&&(!n.ns||c.test(e.ns))&&(!r||t(e.fn)===t(r))&&(!a||e.sel==a)})}function i(e){var t=(""+e).split(".");return{e:t[0],ns:t.slice(1).sort().join(" ")}}function o(e){return new RegExp("(?:^| )"+e.replace(" "," .* ?")+"(?: |$)")}function r(e,t){return e.del&&!v&&e.e in w||!!t}function a(e){return b[e]||v&&w[e]||e}function c(n,o,c,s,u,p,d){var h=t(n),m=g[h]||(g[h]=[]);o.split(/\s/).forEach(function(t){if("ready"==t)return e(document).ready(c);var o=i(t);o.fn=c,o.sel=u,o.e in b&&(c=function(t){var n=t.relatedTarget;if(!n||n!==this&&!e.contains(this,n))return o.fn.apply(this,arguments)}),o.del=p;var h=p||c;o.proxy=function(e){if(e=l(e),!e.isImmediatePropagationStopped()){e.data=s;var t=h.apply(n,e._args==f?[e]:[e].concat(e._args));return t===!1&&(e.preventDefault(),e.stopPropagation()),t}},o.i=m.length,m.push(o),"addEventListener"in n&&n.addEventListener(a(o.e),o.proxy,r(o,d))})}function s(e,i,o,c,s){var l=t(e);(i||"").split(/\s/).forEach(function(t){n(e,t,o,c).forEach(function(t){delete g[l][t.i],"removeEventListener"in e&&e.removeEventListener(a(t.e),t.proxy,r(t,s))})})}function l(t,n){return!n&&t.isDefaultPrevented||(n||(n=t),e.each(k,function(e,i){var o=n[e];t[e]=function(){return this[i]=C,o&&o.apply(n,arguments)},t[i]=S}),(n.defaultPrevented!==f?n.defaultPrevented:"returnValue"in n?n.returnValue===!1:n.getPreventDefault&&n.getPreventDefault())&&(t.isDefaultPrevented=C)),t}function u(e){var t,n={originalEvent:e};for(t in e)A.test(t)||e[t]===f||(n[t]=e[t]);return l(n,e)}var f,p=1,d=Array.prototype.slice,h=e.isFunction,m=function(e){return"string"==typeof e},g={},y={},v="onfocusin"in window,w={focus:"focusin",blur:"focusout"},b={mouseenter:"mouseover",mouseleave:"mouseout"};y.click=y.mousedown=y.mouseup=y.mousemove="MouseEvents",e.event={add:c,remove:s},e.proxy=function(n,i){var o=2 in arguments&&d.call(arguments,2);if(h(n)){var r=function(){return n.apply(i,o?o.concat(d.call(arguments)):arguments)};return r._zid=t(n),r}if(m(i))return o?(o.unshift(n[i],n),e.proxy.apply(null,o)):e.proxy(n[i],n);throw new TypeError("expected function")},e.fn.bind=function(e,t,n){return this.on(e,t,n)},e.fn.unbind=function(e,t){return this.off(e,t)},e.fn.one=function(e,t,n,i){return this.on(e,t,n,i,1)};var C=function(){return!0},S=function(){return!1},A=/^([A-Z]|returnValue$|layer[XY]$)/,k={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};e.fn.delegate=function(e,t,n){return this.on(t,e,n)},e.fn.undelegate=function(e,t,n){return this.off(t,e,n)},e.fn.live=function(t,n){return e(document.body).delegate(this.selector,t,n),this},e.fn.die=function(t,n){return e(document.body).undelegate(this.selector,t,n),this},e.fn.on=function(t,n,i,o,r){var a,l,p=this;return t&&!m(t)?(e.each(t,function(e,t){p.on(e,n,i,t,r)}),p):(m(n)||h(o)||o===!1||(o=i,
    i=n,n=f),(h(i)||i===!1)&&(o=i,i=f),o===!1&&(o=S),p.each(function(f,p){r&&(a=function(e){return s(p,e.type,o),o.apply(this,arguments)}),n&&(l=function(t){var i,r=e(t.target).closest(n,p).get(0);if(r&&r!==p)return i=e.extend(u(t),{currentTarget:r,liveFired:p}),(a||o).apply(r,[i].concat(d.call(arguments,1)))}),c(p,t,o,i,n,l||a)}))},e.fn.off=function(t,n,i){var o=this;return t&&!m(t)?(e.each(t,function(e,t){o.off(e,n,t)}),o):(m(n)||h(i)||i===!1||(i=n,n=f),i===!1&&(i=S),o.each(function(){s(this,t,i,n)}))},e.fn.trigger=function(t,n){return t=m(t)||e.isPlainObject(t)?e.Event(t):l(t),t._args=n,this.each(function(){t.type in w&&"function"==typeof this[t.type]?this[t.type]():"dispatchEvent"in this?this.dispatchEvent(t):e(this).triggerHandler(t,n)})},e.fn.triggerHandler=function(t,i){var o,r;return this.each(function(a,c){o=u(m(t)?e.Event(t):t),o._args=i,o.target=c,e.each(n(c,t.type||t),function(e,t){if(r=t.proxy(o),o.isImmediatePropagationStopped())return!1})}),r},"focusin focusout focus blur load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(t){e.fn[t]=function(e){return 0 in arguments?this.bind(t,e):this.trigger(t)}}),e.Event=function(e,t){m(e)||(t=e,e=t.type);var n=document.createEvent(y[e]||"Events"),i=!0;if(t)for(var o in t)"bubbles"==o?i=!!t[o]:n[o]=t[o];return n.initEvent(e,i,!0),l(n)}}(n),function(e){function t(t,n,i){var o=e.Event(n);return e(t).trigger(o,i),!o.isDefaultPrevented()}function n(e,n,i,o){if(e.global)return t(n||v,i,o)}function i(t){t.global&&0===e.active++&&n(t,null,"ajaxStart")}function o(t){t.global&&!--e.active&&n(t,null,"ajaxStop")}function r(e,t){var i=t.context;return t.beforeSend.call(i,e,t)!==!1&&n(t,i,"ajaxBeforeSend",[e,t])!==!1&&void n(t,i,"ajaxSend",[e,t])}function a(e,t,i,o){var r=i.context,a="success";i.success.call(r,e,a,t),o&&o.resolveWith(r,[e,a,t]),n(i,r,"ajaxSuccess",[t,i,e]),s(a,t,i)}function c(e,t,i,o,r){var a=o.context;o.error.call(a,i,t,e),r&&r.rejectWith(a,[i,t,e]),n(o,a,"ajaxError",[i,o,e||t]),s(t,i,o)}function s(e,t,i){var r=i.context;i.complete.call(r,t,e),n(i,r,"ajaxComplete",[t,i]),o(i)}function l(){}function u(e){return e&&(e=e.split(";",2)[0]),e&&(e==A?"html":e==S?"json":b.test(e)?"script":C.test(e)&&"xml")||"text"}function f(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function p(t){t.processData&&t.data&&"string"!=e.type(t.data)&&(t.data=e.param(t.data,t.traditional)),!t.data||t.type&&"GET"!=t.type.toUpperCase()||(t.url=f(t.url,t.data),t.data=void 0)}function d(t,n,i,o){return e.isFunction(n)&&(o=i,i=n,n=void 0),e.isFunction(i)||(o=i,i=void 0),{url:t,data:n,success:i,dataType:o}}function h(t,n,i,o){var r,a=e.isArray(n),c=e.isPlainObject(n);e.each(n,function(n,s){r=e.type(s),o&&(n=i?o:o+"["+(c||"object"==r||"array"==r?n:"")+"]"),!o&&a?t.add(s.name,s.value):"array"==r||!i&&"object"==r?h(t,s,i,n):t.add(n,s)})}var m,g,y=0,v=window.document,w=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,b=/^(?:text|application)\/javascript/i,C=/^(?:text|application)\/xml/i,S="application/json",A="text/html",k=/^\s*$/,I=v.createElement("a");I.href=window.location.href,e.active=0,e.ajaxJSONP=function(t,n){if(!("type"in t))return e.ajax(t);var i,o,s=t.jsonpCallback,l=(e.isFunction(s)?s():s)||"jsonp"+ ++y,u=v.createElement("script"),f=window[l],p=function(t){e(u).triggerHandler("error",t||"abort")},d={abort:p};return n&&n.promise(d),e(u).on("load error",function(r,s){clearTimeout(o),e(u).off().remove(),"error"!=r.type&&i?a(i[0],d,t,n):c(null,s||"error",d,t,n),window[l]=f,i&&e.isFunction(f)&&f(i[0]),f=i=void 0}),r(d,t)===!1?(p("abort"),d):(window[l]=function(){i=arguments},u.src=t.url.replace(/\?(.+)=\?/,"?$1="+l),v.head.appendChild(u),t.timeout>0&&(o=setTimeout(function(){p("timeout")},t.timeout)),d)},e.ajaxSettings={type:"GET",beforeSend:l,success:l,error:l,complete:l,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:S,xml:"application/xml, text/xml",html:A,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},e.ajax=function(t){var n,o=e.extend({},t||{}),s=e.Deferred&&e.Deferred();for(m in e.ajaxSettings)void 0===o[m]&&(o[m]=e.ajaxSettings[m]);i(o),o.crossDomain||(n=v.createElement("a"),n.href=o.url,n.href=n.href,o.crossDomain=I.protocol+"//"+I.host!=n.protocol+"//"+n.host),o.url||(o.url=window.location.toString()),p(o);var d=o.dataType,h=/\?.+=\?/.test(o.url);if(h&&(d="jsonp"),o.cache!==!1&&(t&&t.cache===!0||"script"!=d&&"jsonp"!=d)||(o.url=f(o.url,"_="+Date.now())),"jsonp"==d)return h||(o.url=f(o.url,o.jsonp?o.jsonp+"=?":o.jsonp===!1?"":"callback=?")),e.ajaxJSONP(o,s);var y,w=o.accepts[d],b={},C=function(e,t){b[e.toLowerCase()]=[e,t]},S=/^([\w-]+:)\/\//.test(o.url)?RegExp.$1:window.location.protocol,A=o.xhr(),j=A.setRequestHeader;if(s&&s.promise(A),o.crossDomain||C("X-Requested-With","XMLHttpRequest"),C("Accept",w||"*/*"),(w=o.mimeType||w)&&(w.indexOf(",")>-1&&(w=w.split(",",2)[0]),A.overrideMimeType&&A.overrideMimeType(w)),(o.contentType||o.contentType!==!1&&o.data&&"GET"!=o.type.toUpperCase())&&C("Content-Type",o.contentType||"application/x-www-form-urlencoded"),o.headers)for(g in o.headers)C(g,o.headers[g]);if(A.setRequestHeader=C,A.onreadystatechange=function(){if(4==A.readyState){A.onreadystatechange=l,clearTimeout(y);var t,n=!1;if(A.status>=200&&A.status<300||304==A.status||0==A.status&&"file:"==S){d=d||u(o.mimeType||A.getResponseHeader("content-type")),t=A.responseText;try{"script"==d?(0,eval)(t):"xml"==d?t=A.responseXML:"json"==d&&(t=k.test(t)?null:e.parseJSON(t))}catch(e){n=e}n?c(n,"parsererror",A,o,s):a(t,A,o,s)}else c(A.statusText||null,A.status?"error":"abort",A,o,s)}},r(A,o)===!1)return A.abort(),c(null,"abort",A,o,s),A;if(o.xhrFields)for(g in o.xhrFields)A[g]=o.xhrFields[g];var T=!("async"in o)||o.async;A.open(o.type,o.url,T,o.username,o.password);for(g in b)j.apply(A,b[g]);return o.timeout>0&&(y=setTimeout(function(){A.onreadystatechange=l,A.abort(),c(null,"timeout",A,o,s)},o.timeout)),A.send(o.data?o.data:null),A},e.get=function(){return e.ajax(d.apply(null,arguments))},e.post=function(){var t=d.apply(null,arguments);return t.type="POST",e.ajax(t)},e.getJSON=function(){var t=d.apply(null,arguments);return t.dataType="json",e.ajax(t)},e.fn.load=function(t,n,i){if(!this.length)return this;var o,r=this,a=t.split(/\s/),c=d(t,n,i),s=c.success;return a.length>1&&(c.url=a[0],o=a[1]),c.success=function(t){r.html(o?e("<div>").html(t.replace(w,"")).find(o):t),s&&s.apply(r,arguments)},e.ajax(c),this};var j=encodeURIComponent;e.param=function(t,n){var i=[];return i.add=function(t,n){e.isFunction(n)&&(n=n()),null==n&&(n=""),this.push(j(t)+"="+j(n))},h(i,t,n),i.join("&").replace(/%20/g,"+")}}(n),function(e){e.fn.serializeArray=function(){var t,n,i=[],o=function(e){return e.forEach?e.forEach(o):void i.push({name:t,value:e})};return this[0]&&e.each(this[0].elements,function(i,r){n=r.type,t=r.name,t&&"fieldset"!=r.nodeName.toLowerCase()&&!r.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"file"!=n&&("radio"!=n&&"checkbox"!=n||r.checked)&&o(e(r).val())}),i},e.fn.serialize=function(){var e=[];return this.serializeArray().forEach(function(t){e.push(encodeURIComponent(t.name)+"="+encodeURIComponent(t.value))}),e.join("&")},e.fn.submit=function(t){if(0 in arguments)this.bind("submit",t);else if(this.length){var n=e.Event("submit");this.eq(0).trigger(n),n.isDefaultPrevented()||this.get(0).submit()}return this}}(n),function(e){"__proto__"in{}||e.extend(e.zepto,{Z:function(t,n){return t=t||[],e.extend(t,e.fn),t.selector=n||"",t.__Z=!0,t},isZ:function(t){return"array"===e.type(t)&&"__Z"in t}});try{getComputedStyle(void 0)}catch(e){var t=getComputedStyle;window.getComputedStyle=function(e){try{return t(e)}catch(e){return null}}}}(n),e.exports=n},function(e,t,n){var i=n(3);e.exports={goLogin:function(e){i.toLogin(e||location)},delay:function(e,t){return setTimeout(function(){e()},"number"==typeof t&&t||80)},reportData:function(e,t,n){try{var i=e||"",o=new MPing.inputs.Click(i);t&&(o.event_param=t),n&&(o.event_level=n),o.updateEventSeries();var r=new MPing;r.send(o)}catch(e){}},addParamToUrl:function(e,t,n){var i=e.split("#")[0];return/\?/g.test(i)?/name=[-\w]{4,25}/g.test(i)?i=i.replace(/name=[-\w]{4,25}/g,t+"="+n):i+="&"+t+"="+n:i+="?"+t+"="+n,window.location.href.split("#")[1]?i+"#"+window.location.href.split("#")[1]:i},queryString:function(e){var t=new RegExp("[\\?&]"+e+"=([^&#]*)","i").exec(window.location.href);return t&&decodeURIComponent(t[1])||""},closeXView:function(){i.XViewClose()},openJdApp:function(e,t){var n=e,i=t,o=navigator.userAgent.toLowerCase(),r=o.indexOf("jdapp");if(r!=-1)location.href=e;else{var a=document.createElement("div");a.style.visibility="hidden",a.innerHTML="<iframe src="+n+' scrolling="no" width="1" height="1"></iframe>',document.body.appendChild(a),setTimeout(function(){location=i},1200)}},reportPV:function(){try{(new MPing).send(new MPing.inputs.PV)}catch(e){}}}},function(e,t,n){!function(e,i){i(t,n(4))}(this,function(e,t){"use strict";function n(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"openApp.jdMobile";window.location.href=i(e,t,n)}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"openApp.jdMobile";return n+"://"+e+"?params="+encodeURIComponent(JSON.stringify(t))}function o(e,n){return i("virtual",t.assign({category:"jump",des:"productDetail",skuId:e},n))}function r(e,t){window.location.href=o(e,t)}function a(e,n){return i("virtual",t.assign({category:"jump",des:"jshopMain",shopId:e},n))}function c(e,t){window.location.href=a(e,t)}function s(){return t.isAndroid()?i("360buy",{type:1}):t.isIOS()?i("virtual",{category:"jump",des:"HomePage"}):void 0}function l(){window.location.href=s()}function u(e){return i("virtual",t.assign({category:"jump",des:"couponCenter"},e))}function f(e){window.location.href=u(e)}function p(e){return i("virtual",t.assign({category:"jump",des:"seckill"},e))}function d(e){window.location.href=p(e)}function h(e){console.warn("toFlashSale 已经改名为 toSecKill， 请使用新方法。"),d(e)}function m(e){return i("virtual",t.assign({category:"jump",des:"orderlist"},e))}function g(e){window.location.href=m(e)}function y(e){e=e||window.location.href;var n="https://passport.m.jd.com/user/login.action",i={v:1,returnurl:encodeURIComponent(e)};window.location.href=n+"?"+t.serialize(i)}function v(e){n("virtual",{category:"jump",action:"to",des:"m",url:e})}function w(e){return i("virtual",t.assign({category:"jump",des:"Discovery"},e))}function b(e){window.location.href=w(e)}function C(e,n){return i("virtual",t.assign({category:"jump",des:"faxian_article",id:e},n))}function S(e,t){window.location.href=C(e,t)}function A(e,n){return i("virtual",t.assign({category:"jump",des:"faxian_author",authorId:e},n))}function k(e,t){window.location.href=A(e,t)}function I(e){return i("virtual",t.assign({category:"jump",des:"inventory"},e))}function j(e){window.location.href=I(e)}function T(e,n){return i("virtual",t.assign({category:"jump",des:"inventoryDetail",id:e},n))}function _(e,t){window.location.href=T(e,t)}function x(e){return i("virtual",t.assign({category:"jump",des:"cartB"},e))}function O(e){window.location.href=x(e)}function N(){var e=t.getAppVersion("jd");t.versionCompare(e,"5.0.0")<0||(t.isAndroid()?window.AndroidNavi&&window.AndroidNavi.refreshCart():t.isIOS()&&n("communication",{action:"sh_refreshCart"}))}function P(){var e=t.getAppVersion("jd");t.versionCompare(e,"5.0.0")<0||(t.isAndroid()?window.AndroidNavi&&window.AndroidNavi.setCart(JSON.stringify({isShow:"Y"})):t.isIOS()&&(t.versionCompare(e,"5.1.0")<0?n("communication",{action:"sh_showCart"}):window.MobileNavi&&window.MobileNavi.configBtn(JSON.stringify({type:"cart",display:"show",position:"outside",icon:"",title:"购物车",jump:""}))))}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"find",t={find:"FindLivePlayList",seckill:"SecKillLivePlayList"};return i("virtual",{category:"jump",des:t[e],position:we[e]})}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"find";window.location.href=E(e)}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"find",n={find:"FindLivePreDetail",seckill:"SecKillLivePreDetail"};return i("virtual",{category:"jump",des:n[t],id:e,position:we[t]})}function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"find";window.location.href=U(e,t)}function L(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"find";return i("virtual",{category:"jump",des:"LivePlayerRoom",id:e,position:we[t]})}function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"find";window.location.href=L(e,t)}function q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function H(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function F(){return t.isMobile()?"openapp.jdmobile":t.isTablet()&&t.isIOS()?"openapp.jdipad":void 0}function J(e){n("communication",{des:"share",type:111,title:e.title,content:e.content,shareUrl:e.url,iconUrl:e.img,shareActionType:e.shareActionType,channel:e.channel,qrparam:e.qrparam,callback:e.callbackSwitcher,clickcallback:e.clickcallbackSwitcher})}function W(e){shareHelper.initShare(JSON.stringify({title:e.title,content:e.content,shareUrl:decodeURIComponent(e.url),iconUrl:decodeURIComponent(e.img),shareActionType:e.shareActionType,channel:e.channel,qrparam:e.qrparam,callback:e.callbackSwitcher,clickcallback:e.clickcallbackSwitcher,eventId:""}))}function V(e,t){shareHelper[e](t.title,t.content,decodeURIComponent(t.url),decodeURIComponent(t.img),t.callbackSwitcher)}function Q(e,t){shareHelper[e](t.title,t.content,decodeURIComponent(t.url),decodeURIComponent(t.img))}function G(e,t){n("communication",{action:t,title:e.title,content:e.content,shareUrl:e.url,iconUrl:e.img,isCallBack:e.callbackSwitcher})}function X(e){var t={category:"jump",des:"share",type:"111",title:e.title,content:e.content,shareUrl:e.url,imageUrl:e.img,iconUrl:e.img,qrparam:e.qrparam,channel:e.channel,isCallBack:e.callbackSwitcher,clickcallback:e.clickcallbackSwitcher,shareActionType:e.shareActionType};n("virtual",t,F())}function z(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function $(e){window.jdappShareRes=function(t){t.hasOwnProperty("shareResult")?e.callback&&e.callback(t):e.clickcallback&&e.clickcallback(t)}}function Z(e){var n={Wxfriends:"WeChat_Friend",Wxmoments:"WeChat_FriendTimeline",Sinaweibo:"Weibo",QQfriends:"QQFriend_SHARE_CLIENT",QQzone:"QQZone_SHARE_CLIENT",Moreshare:""},i="";if(e){if(t.isIOS()){var o=t.getAppVersion("jd");if(t.isMobile()&&t.isApp("jd")&&t.versionCompare(o,"4.4.0")>=0&&t.versionCompare(o,"5.0.0")<0){if(i=n[e])return i;throw new Se("输入的channel参数在iphone版本中不存在")}return e}return e}return e}function K(e){return["title","content","url","img"].every(function(t){return void 0!==e[t]})}function Y(e){if(K(e)){var n={channel:"",qrparam:null,callback:null,clickcallback:null},i=void 0,o=void 0,r=void 0,a=void 0;try{"[object Object]"===Object.prototype.toString.call(e)&&t.assign(n,e),i="function"==typeof n.callback,r="function"==typeof n.clickcallback,o=i?Ce.WITH_CALLBACK:Ce.WITHOUT_CALLBACK,a=r?Ce.WITH_CALLBACK:Ce.WITHOUT_CALLBACK,i&&r?$({callback:n.callback,clickcallback:n.clickcallback}):i?$({callback:n.callback}):r&&$({clickcallback:n.clickcallback}),"[object Object]"===Object.prototype.toString.call(n.qrparam)&&(n.qrparam.top_pic=n.qrparam.top_pic?encodeURIComponent(decodeURIComponent(n.qrparam.top_pic)):"",n.qrparam.mid_pic=n.qrparam.mid_pic?encodeURIComponent(decodeURIComponent(n.qrparam.mid_pic)):""),n.callbackSwitcher=o,n.clickcallbackSwitcher=a,n.url=z(n.url,"_ts="+(new Date).getTime()),n.channel=Z(n.channel),n.url=encodeURIComponent(n.url),n.img=encodeURIComponent(n.img)}catch(e){throw e}return n}throw new Se("调用方法时传入配置对象格式错误，请查看文档")}function ee(e){if(t.isApp("jd"))try{var n=null;if(n=Y(e),n.shareActionType=Ce.SHARE_ACTION_SET,t.isAndroid())if(window.shareHelper)if("function"==typeof shareHelper.initShare)W(n);else if("function"==typeof shareHelper.setShareInfoCallback)if(n.callbackSwitcher===Ce.WITH_CALLBACK)try{V("setShareInfoCallback",n)}catch(e){Q("setShareInfoCallback",n)}else try{V("setShareInfoCallback",n)}catch(e){"function"==typeof shareHelper.setShareInfo&&Q("setShareInfo",n)}else"function"==typeof shareHelper.setShareInfo&&Q("setShareInfo",n);else J(n);else if(t.isIOS()){var i=t.getAppVersion("jd");t.isIPhone()&&t.versionCompare(i,"5.0.0")>=0||t.isIpad()&&t.versionCompare(i,"3.6.0")>=0?X(n):t.isIPhone()&&G(n,"syncShareData")}}catch(e){throw e}}function te(e){try{var n=null;if(n=Y(e),n.shareActionType=Ce.SHARE_ACTION_PANE,t.isAndroid())t.isApp("jd")&&window.shareHelper?"function"==typeof shareHelper.initShare?W(n):"function"==typeof shareHelper.callShare?V("callShare",n):J(n):J(n);else if(t.isIOS()){var i=t.getAppVersion("jd");t.isIPhone()&&t.versionCompare(i,"5.0.0")>=0||t.isIpad()&&t.versionCompare(i,"3.6.0")>=0?X(n):t.isIPhone()&&G(n,"share")}}catch(e){throw e}}function ne(e){try{var i=null;if(i=Y(e),i.shareActionType=Ce.SHARE_ACTION_OPEN,t.isAndroid())t.isApp("jd")&&window.shareHelper?"function"==typeof shareHelper.initShare?W(i):"function"==typeof shareHelper.sendShare?shareHelper.sendShare(i.title,i.content,decodeURIComponent(i.url),decodeURIComponent(i.img),i.channel,i.callbackSwitcher):J(i):J(i);else if(t.isIOS()){if(!i.channel)throw new Se("分享渠道未设置");var o=t.getAppVersion("jd");t.isIPhone()&&t.versionCompare(o,"5.0.0")>=0||t.isIpad()&&t.versionCompare(o,"3.6.0")>=0?X(i):t.isIPhone()&&n("virtual",{category:"jump",des:"share",type:111,title:i.title,content:i.content,shareUrl:i.url,imageUrl:i.img,channel:i.channel,isCallBack:i.callbackSwitcher})}}catch(e){throw e}}function ie(e){var n=t.getAppVersion("jd");!t.isApp("jd")||t.versionCompare(n,"6.0.0")<0||(t.isWebview("wk")?window.webkit.messageHandlers.MobileNavi.postMessage({method:"setNaviBackground",params:JSON.stringify(e),callBackName:null,callBackId:null}):window.MobileNavi&&MobileNavi.setNaviBackground(JSON.stringify(e)))}function oe(){var e=t.getAppVersion("jd"),n={type:"clear_js",display:"",position:"",icon:"",title:"",jump:""};console.log({method:"configBtnSince610",params:JSON.stringify({clear_js:n}),callBackName:null,callBackId:null}),t.isApp("jd")&&(t.isWebview("wk")?window.webkit.messageHandlers.MobileNavi.postMessage({method:"configBtnSince610",params:JSON.stringify({clear_js:n}),callBackName:null,callBackId:null}):t.versionCompare(e,"6.1.0")<0?window.MobileNavi&&MobileNavi.configBtn(JSON.stringify(n)):window.MobileNavi&&MobileNavi.configBtnSince610(JSON.stringify({clear_js:n})))}function re(e){var n={type:"",display:"",position:"",icon:"",title:"",jump:""},i=["homepage","search","calendar","cart","message","custom"];if(t.isObject(e)&&t.isApp("jd"))for(var o=t.assign(n,e),r=0;r<i.length;r++)o.type===i[r]&&(t.isWebview("wk")?window.webkit.messageHandlers.MobileNavi.postMessage({method:"configBtn",params:JSON.stringify(o),callBackName:null,callBackId:null}):window.MobileNavi&&MobileNavi.configBtn(JSON.stringify(o)))}function ae(e){var n="",i=["homepage","search","calendar","cart","message","custom"],o={};if(t.isObject(e)&&t.isApp("jd")){for(var r in e)if(n=!0,t.isObject(e[r])){for(var a=0;a<i.length;a++)if(e[r].type===i[a]){n=!1;break}n||(o[r]=e[r],o[r].display=e[r].display||"",o[r].icon=e[r].icon||"",o[r].jump=e[r].jump||"",o[r].position=e[r].position||"",o[r].title=e[r].title||"")}else{if(!t.isArray(e[r]))throw new Error("调用方法时传入配置对象格式错误");if(o[r]=e[r],o[r].length<3){n=!1;break}}n||(t.isWebview("wk")?window.webkit.messageHandlers.MobileNavi.postMessage({method:"configBtnSince610",params:JSON.stringify(o),callBackName:null,callBackId:null}):window.MobileNavi&&window.MobileNavi.configBtnSince610(JSON.stringify(o)))}}function ce(){t.isApp("jd")&&(t.isWebview("wk")?window.webkit.messageHandlers.MobileNavi.postMessage({method:"showCloseBtn"}):window.MobileNavi&&MobileNavi.showCloseBtn())}function se(e){var n={blackImg:"",whiteImg:""};t.isApp("jd")&&t.isObject(e)&&(t.assign(n,e),t.isWebview("wk")?window.webkit.messageHandlers.MobileNavi.postMessage({method:"enableTransparent",params:JSON.stringify(n),callBackName:null,callBackId:null}):window.MobileNavi&&MobileNavi.enableTransparent(JSON.stringify(n)))}function le(e){t.isApp("jd")&&t.isString(e)&&(t.isWebview("wk")?window.webkit.messageHandlers.MobileNavi.postMessage({method:"setTitle",params:e,callBackName:null,callBackId:null}):window.MobileNavi&&MobileNavi.setTitle(e))}function ue(e){t.isApp("jd")&&t.isString(e)&&(t.isWebview("wk")?window.webkit.messageHandlers.MobileNavi.postMessage({method:"showNativeBarcodeScan",params:e,callBackName:null,callBackId:null}):window.MobileNavi&&MobileNavi.showNativeBarcodeScan(e))}function fe(){t.isApp("jd")&&(t.isWebview("wk")?window.webkit.messageHandlers.MobileNavi.postMessage({method:"showNativeUpload"}):window.MobileNavi&&MobileNavi.showNativeUpload())}function pe(){t.isWebview("xview")&&(t.isWebview("wk")?window.webkit.messageHandlers.XView.postMessage({method:"close"}):window.XView&&window.XView.close())}function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.isWebview("xview")&&(t.isWebview("wk")?window.webkit.messageHandlers.XView.postMessage({method:"configCloseButton",params:{closeIcon:i,x:e,y:n},callBackName:null,callBackId:null}):window.XView&&XView.configCloseButton(i,e,n))}function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.isApp("jd")&&(t.isWebview("wk")?window.webkit.messageHandlers.JDPaySdk.postMessage({method:"jdpaysdk_pay",params:{pin:e,code:n,mode:i},callBackName:null,callBackId:null}):window.JDPaySdk&&JDPaySdk.jdpaysdk_pay(_params.pin,_params.code,_params.mode))}function me(){t.isApp("jd")&&(t.isWebview("wk")?window.webkit.messageHandlers.JDPaySdk.postMessage({method:"jdpaysdk_pop"}):window.JDPaySdk&&JDPaySdk.jdpaysdk_pop())}function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(t.isApp("jd")){var o={imgUrl:e,callBackName:n,callBackId:i};try{t.isWebview("wk")?window.webkit.messageHandlers.JDAppUnite.postMessage({method:"saveImageToPhoteAlbum",params:JSON.stringify(o),callBackName:null,callBackId:null}):window.JDAppUnite&&JDAppUnite.saveImageToPhoteAlbum(JSON.stringify(o))}catch(e){throw new Error(e)}}}function ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(t.isApp("jd")){var i={channelName:e,callBackName:n};try{t.isWebview("wk")?window.webkit.messageHandlers.MobileLogin.postMessage({method:"bindSocialAccountWithJsonString",params:JSON.stringify(i),callBackName:null,callBackId:null}):window.MobileLogin&&MobileLogin.bindSocialAccountWithJsonString(JSON.stringify(i))}catch(e){throw new Error(e)}}}function ve(){t.isApp("jd")&&(t.isIOS()?window.location.href="objc:callCamera":t.isAndroid()&&window.JDClient&&window.JDClient.openCamera())}var we={find:"0",seckill:"2"},be=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),Ce={WITH_CALLBACK:"Y",WITHOUT_CALLBACK:"N",SHARE_ACTION_SET:"S",SHARE_ACTION_PANE:"P",SHARE_ACTION_OPEN:"O"},Se=function(e){function t(e){q(this,t);var n=D(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.message=e,n.name="JdShareException",n}return H(t,e),be(t,[{key:"toString",value:function(){return this.name+": "+this.message}}]),t}(Error);e.nativeCall=n,e.buildSchema=i,e.getProductSchema=o,e.toProduct=r,e.getShopSchema=a,e.toShop=c,e.getHomeSchema=s,e.toHome=l,e.getCouponCenterSchema=u,e.toCouponCenter=f,e.getSecKillSchema=p,e.toSecKill=d,e.toFlashSale=h,e.getOrderListSchema=m,e.toOrderList=g,e.toLogin=y,e.openNewWebView=v,e.getDiscoverySchema=w,e.toDiscovery=b,e.getArticleSchema=C,e.toArticle=S,e.getAuthorSchema=A,e.toAuthor=k,e.getInventorySchema=I,e.toInventory=j,e.getInventoryDetailSchema=T,e.toInventoryDetail=_,e.getCartSchema=x,e.toCart=O,e.refreshCart=N,e.showCartButton=P,e.getLiveCastListSchema=E,e.toLiveCastList=R,e.getLiveCastPreviewSchema=U,e.toLiveCastPreview=B,e.getLiveCastRoomSchema=L,e.toLiveCastRoom=M,e.setShareInfo=ee,e.callSharePane=te,e.sendDirectShare=ne,e.setNaviBackground=ie,e.configBtnClear=oe,e.configBtnSet=re,e.configBtnSince610=ae,e.showCloseBtn=ce,e.enableTransparent=se,e.setTitle=le,e.showNativeBarcodeScan=ue,e.showNativeUpload=fe,e.XViewClose=pe,e.XViewConfigCloseButton=de,e.JDPaySdk_pay=he,e.JDPaySdk_pop=me,e.saveImageToPhoteAlbum=ge,e.bindSocialAccountWithJsonString=ye,e.selectImage=ve,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(e,n){n(t)}(this,function(e){"use strict";function t(e,t){var n=function(e){return e=(e||window.location.search).replace(/(^\?)/,""),e.split("&").map(function(e){return e=e.split("="),this[e[0]]=e[1],this}.bind({}))[0]};1===arguments.length&&e.indexOf("=")<0&&(t=e,e=null);var i=n(e);if(!t)return i;if("[object Array]"===Object.prototype.toString.call(t)){for(var o={},r=0;r<t.length;r++)o[t[r]]=i[t[r]]||null;return o}return i[t]}function n(e){return Object.keys(e).map(function(t){return t+"="+e[t]}).join("&")}function i(e){return Object.prototype.toString.call(e)}function o(e){return"function"==typeof e}function r(e){return"[object Object]"===i(e)}function a(e){return"[object Array]"==i(e)}function c(e){return"[object Undefined]"===i(e)}function s(e){return"[object Null]"==i(e)}function l(e){return"string"==typeof e}function u(e){return"boolean"==typeof e}function f(e){return"[object Number]"===i(e)}function p(e,t){return t=t||navigator.userAgent,"wx"===e?/micromessenger/i.test(t):"qq"===e?/qq\//i.test(t):"weibo"===e?/weibo/i.test(t):"jd"===e&&/^jdapp/i.test(t)}function d(e){return e=e||navigator.userAgent,/android/i.test(e)}function h(e){return e=e||navigator.userAgent,/ip(hone|od)|ipad/i.test(e)}function m(e){return e=e||navigator.userAgent,/ipad/i.test(e)||/android/i.test(e)&&!/mobi|mini|fennec/i.test(e)}function g(e){return e=e||navigator.userAgent,!!e.match(/ip(hone|od)|android.+mobile|windows (ce|phone)|blackberry|bb10|symbian|webos|firefox.+fennec|opera m(ob|in)i|polaris|iemobile|lgtelecom|nokia|sonyericsson|dolfin|uzard|natebrowser|ktf;|skt;/i)}function y(e){return e=e||navigator.userAgent,!!e.match(/iphone/i)}function v(e){return e=e||navigator.userAgent,!!e.match(/ipad/i)}function w(e,t){return t=t||navigator.userAgent,"xview"===e?"undefined"!=typeof window.XView:"wk"===e&&!!t.match(/supportjdshwk/i)}function b(e){e=e||navigator.userAgent;var t=/nettype\/([\S]*)/i;return p("jd",e)&&(t=/network\/([^;]*)/i),t.test(e)?RegExp.$1.toLowerCase():"unknown"}function C(e){return e=e||navigator.userAgent,p("jd",e)?e.split(";")[4]:null}function S(e,t){return t=t||navigator.userAgent,"jd"===e?t.split(";")[2]||null:"wx"===e?/micromessenger\/([\S]*)/i.test(t)?RegExp.$1:null:"qq"===e&&/qq\/([\S]*)/i.test(t)?RegExp.$1:null}function A(e){e=e||navigator.userAgent;var t=e.match(/android\s([0-9\.]*)/i);return t?t[1]:"unknown"}function k(e){e=e||navigator.userAgent;var t=e.match(/OS ((\d+_?){2,3})\s/i);return t?t[1].replace(/_/g,"."):"unknown"}function I(e){var t=e.split(".");return{full:e,major:parseInt(t[0],10),minor:parseInt(t[1],10),patch:parseInt(t[2],10),build:t[3]?parseInt(t[3],10):null}}function j(e,t){if(e===t)return 0;e=e.split("."),t=t.split(".");for(var n=e.length-t.length,i=[],o=0;o<Math.abs(n);o++)i.push(0);n>0?t=t.concat(i):n<0&&(e=e.concat(i));for(var r=0;r<e.length;r++){if(e[r]=parseInt(e[r],10),t[r]=parseInt(t[r],10),e[r]>t[r])return 1;if(e[r]<t[r])return-1}return 0}function T(e){if(null===e||void 0===e)throw new TypeError("`assign` cannot be called with null or undefined");return Object(e)}function _(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var i=void 0,o=T(t[0]),r=void 0,a=1;a<arguments.length;a++){i=Object(arguments[a]);for(var c in i)x.call(i,c)&&(o[c]=i[c]);if(Object.getOwnPropertySymbols){r=Object.getOwnPropertySymbols(i);for(var s=0;s<r.length;s++)O.call(i,r[s])&&(o[r[s]]=i[r[s]])}}return o}var x=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;e.getUrlQuery=t,e.serialize=n,e.isFunction=o,e.isObject=r,e.isArray=a,e.isUndefined=c,e.isNull=s,e.isString=l,e.isBoolean=u,e.isNumber=f,e.isApp=p,e.isAndroid=d,e.isIOS=h,e.isTablet=m,e.isMobile=g,e.isIPhone=y,e.isIPad=v,e.isWebview=w,e.getNetwork=b,e.getUUID=C,e.getAppVersion=S,e.getAndroidVersion=A,e.getIOSVersion=k,e.version=I,e.versionCompare=j,e.assign=_,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){var i;!function(o,r){i=function(){return r(o)}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))}("undefined"!=typeof window?window:this,function(e){"use strict";function t(e){return'openapp.jdmobile://communication?params={"des":"share","type":"111","title":"'+e.title+'","content":"'+e.content+'","shareUrl":"'+e.url+'","iconUrl":"'+e.img+'","shareActionType":"'+e.shareActionType+'","channel":"'+e.channel+'","timeline_title":"'+e.timeline_title+'","qrparam":"'+e.qrparam+'","callback":"'+e.callbackSwitcher+'","clickcallback":"'+e.clickcallbackSwitcher+'"}'}function n(e){shareHelper.initShare(JSON.stringify({title:e.title,content:e.content,shareUrl:decodeURIComponent(e.url),iconUrl:decodeURIComponent(e.img),shareActionType:e.shareActionType,channel:e.channel,timeline_title:e.timeline_title,qrparam:e.qrparam,callback:e.callbackSwitcher,clickcallback:e.clickcallbackSwitcher,eventId:""}))}function i(e,t){shareHelper[e](t.title,t.content,decodeURIComponent(t.url),decodeURIComponent(t.img),t.callbackSwitcher)}function o(e,t){shareHelper[e](t.title,t.content,decodeURIComponent(t.url),decodeURIComponent(t.img))}function r(e,t){return'openapp.jdmobile://communication?params={"action":"'+t+'","title":"'+e.title+'","content":"'+e.content+'","shareUrl":"'+e.url+'","iconUrl":"'+e.img+'","isCallBack":"'+e.callbackSwitcher+'"}'}function a(e){var t={category:"jump",des:"share",type:"111",title:e.title,content:e.content,shareUrl:e.url,imageUrl:e.img,iconUrl:e.img,timeline_title:e.timeline_title,qrparam:e.qrparam,channel:e.channel,isCallBack:e.callbackSwitcher,clickcallback:e.clickcallbackSwitcher,shareActionType:e.shareActionType};return T+"virtual?params="+JSON.stringify(t)}function c(e){if(!(this instanceof c))return new c(e)}function s(e){this.message=e,this.name="JdShareException",this.toString=function(){return this.name+": "+this.message}}function l(e,t){for(var n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&(e[n]=t[n])}function u(e,t){return""==t?e:(e+"&"+t).replace(/[&?]{1,2}/,"?")}function f(t){e.jdappShareRes=function(e){e.hasOwnProperty("shareResult")?t.callback&&t.callback(e):t.clickcallback&&t.clickcallback(e)}}function p(e){var t={Wxfriends:"WeChat_Friend",Wxmoments:"WeChat_FriendTimeline",Sinaweibo:"Weibo",QQfriends:"QQFriend_SHARE_CLIENT",QQzone:"QQZone_SHARE_CLIENT",Moreshare:""},n="";if(e){if(C){if(I){if(n=t[e])return n;throw new s("输入的channel参数在iphone版本中不存在")}return e}return e}return e}function d(e){return void 0!==e.title&&void 0!==e.content&&void 0!==e.url&&void 0!==e.img;
}function h(e){if(d(e)){try{var t,n,i,o,r={timeline_title:"",channel:"",qrparam:null,callback:null,clickcallback:null};"[object Object]"===Object.prototype.toString.call(e)&&l(r,e),t="function"==typeof r.callback,i="function"==typeof r.clickcallback,n=t?_.WITH_CALLBACK:_.WITHOUT_CALLBACK,o=i?_.WITH_CALLBACK:_.WITHOUT_CALLBACK,t&&i?f({callback:r.callback,clickcallback:r.clickcallback}):t?f({callback:r.callback}):i&&f({clickcallback:r.clickcallback}),"[object Object]"===Object.prototype.toString.call(r.qrparam)&&(r.qrparam.top_pic=r.qrparam.top_pic?encodeURIComponent(decodeURIComponent(r.qrparam.top_pic)):"",r.qrparam.mid_pic=r.qrparam.mid_pic?encodeURIComponent(decodeURIComponent(r.qrparam.mid_pic)):"",r.qrparam.qr_direct=r.qrparam.qr_direct?encodeURIComponent(decodeURIComponent(r.qrparam.qr_direct)):""),r.callbackSwitcher=n,r.clickcallbackSwitcher=o,r.url=u(r.url,"_ts="+(new Date).getTime()),r.channel=p(r.channel),r.url=encodeURIComponent(r.url),r.img=encodeURIComponent(r.img)}catch(e){throw e}return r}throw new s("调用方法时传入配置对象格式错误，请查看文档")}var m,g=navigator.userAgent.toLowerCase(),y=g.split(";"),v=g.indexOf("jdapp")!=-1,w=function(){if(v&&y[2])try{return parseInt(y[2].replace(/\./g,""))}catch(e){}}(),b="android"===y[1],C="iphone"===y[1],S=b||C,A=g.indexOf("ipad")!=-1,k=(/MicroMessenger/i.test(g),S&&v&&w>=500),I=S&&v&&w>=440&&w<500,j=A&&v&&w>=360,T=function(){return S?"openapp.jdmobile://":A?"openapp.jdipad://":void 0}(),_={WITH_CALLBACK:"Y",WITHOUT_CALLBACK:"N",SHARE_ACTION_SET:"S",SHARE_ACTION_PANE:"P",SHARE_ACTION_OPEN:"O"};return s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,c.prototype.setShareInfo=function(c){try{var s=null;if(v)if(s=h(c),s.shareActionType=_.SHARE_ACTION_SET,b)if(e.shareHelper)if("function"==typeof shareHelper.initShare)n(s);else if("function"==typeof shareHelper.setShareInfoCallback)if(s.callbackSwitcher===_.WITH_CALLBACK)try{i("setShareInfoCallback",s)}catch(e){o("setShareInfoCallback",s)}else try{i("setShareInfoCallback",s)}catch(e){"function"==typeof shareHelper.setShareInfo&&o("setShareInfo",s)}else"function"==typeof shareHelper.setShareInfo&&o("setShareInfo",s);else e.location.href=t(s);else(C||A)&&(k||j?location.href=a(s):C&&(location.href=r(s,"syncShareData")))}catch(e){throw e}},c.prototype.callSharePane=function(o){try{var c=null;c=h(o),c.shareActionType=_.SHARE_ACTION_PANE,b?v&&e.shareHelper?"function"==typeof shareHelper.initShare?n(c):"function"==typeof shareHelper.callShare?i("callShare",c):e.location.href=t(c):e.location.href=t(c):(C||A)&&(k||j?location.href=a(c):C&&(location.href=r(c,"share")))}catch(e){throw e}},c.prototype.sendDirectShare=function(i){try{var o,r=null;if(r=h(i),r.shareActionType=_.SHARE_ACTION_OPEN,b)v&&e.shareHelper?"function"==typeof shareHelper.initShare?n(r):"function"==typeof shareHelper.sendShare?shareHelper.sendShare(r.title,r.content,decodeURIComponent(r.url),decodeURIComponent(r.img),r.channel,r.callbackSwitcher):location.href=t(r):e.location.href=t(r);else if(C||A){if(!r.channel)throw new s("分享渠道未设置");k||j?location.href=a(r):C&&(o='openapp.jdmobile://virtual?params={"category":"jump","des":"share","type":"111","title":"'+r.title+'","content":"'+r.content+'","shareUrl":"'+r.url+'","imageUrl":"'+r.img+'","channel":"'+r.channel+'","isCallBack":"'+r.callbackSwitcher+'"}',location.href=o)}}catch(e){throw e}},m||(m=c()),m})},function(e,t,n){var i,o;!function(r,a){if("object"==typeof t&&t)a(t);else{var c={};a(c),i=c,o="function"==typeof i?i.call(t,n,t,e):i,!(void 0!==o&&(e.exports=o))}}(this,function(e){function t(e){return"function"==typeof e}function n(){try{WeixinJSBridge.on("menu:share:timeline",function(){WeixinJSBridge.invoke("shareTimeline",{img_url:i.img,img_width:55,img_height:55,link:t(i.url)?i.url(1):i.url,desc:i.desc,title:i.timeline_title?i.timeline_title:i.title},function(){try{t(i.callback)&&i.callback()}catch(e){}})}),/android/i.test(navigator.userAgent)?WeixinJSBridge.on("menu:share:weibo",function(){WeixinJSBridge.invoke("shareWeibo",{url:t(i.url)?i.url(2):i.url,content:i.title+":"+i.desc},function(){try{t(i.callback)&&i.callback()}catch(e){}})}):WeixinJSBridge.on("menu:share:weibo",function(){WeixinJSBridge.invoke("shareWeibo",{img_url:i.img,img_width:55,img_height:55,link:t(i.url)?i.url(2):i.url,desc:i.desc,title:i.title},function(){try{t(i.callback)&&i.callback()}catch(e){}})}),WeixinJSBridge.on("menu:share:appmessage",function(){WeixinJSBridge.invoke("sendAppMessage",{img_url:i.img,img_width:55,img_height:55,link:t(i.url)?i.url(3):i.url,desc:i.desc,title:i.title},function(){try{t(i.callback)&&i.callback()}catch(e){}})}),t(i.readycallback)&&i.readycallback()}catch(e){}}var i={img:"",url:location.href,desc:"",title:""},o=function(e){if("object"==typeof e)for(var o in e)e.hasOwnProperty(o)&&(i[o]=e[o]);"object"==typeof window.WeixinJSBridge&&t(window.WeixinJSBridge.invoke)?n():document.addEventListener?document.addEventListener("WeixinJSBridgeReady",n,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",n),document.attachEvent("onWeixinJSBridgeReady",n))};e.init=o})},function(e,t){e.exports={get:function(e){var t=new RegExp("(^|;|\\s+)"+e+"=([^;]*)(;|$)"),n=document.cookie.match(t);return n?unescape(n[2]):null},add:function(e,t,n,i,o){var r=e+"="+escape(t)+"; path="+(i||"/")+(o?"; domain="+o:"");if(n>0){var a=new Date;a.setDate(a.getDate()+n),r+=";expires="+a.toGMTString()}document.cookie=r},del:function(e,t,n){2==arguments.length&&(n=t,t="/"),document.cookie=e+"=;path="+t+";"+(n?"domain="+n+";":"")+"expires=Thu, 01-Jan-70 00:00:01 GMT"}}},function(e,t){var n=function(e,t){if(e=e||{},this.elementNode=e.elementNode||"",this.url=e.url||document.location.href||"",this.title=e.title||document.title||"",this.desc=e.content||document.title||"",this.img=e.img||document.getElementsByTagName("img").length>0&&document.getElementsByTagName("img")[0].src||"",this.img_title=e.img_title||document.title||"",this.from=e.from||window.location.host||"",this.channel=e.channel||"weixin",this.sid=e.sid||"",""!=this.elementNode&&!document.getElementById(this.elementNode))return!1;var n={lower:"//3gimg.qq.com/html5/js/qb.js",higher:"//jsapi.qq.com/get?api=app.share"},i={qq:{forbid:0,lower:1,higher:2},uc:{forbid:0,allow:1}},o=navigator.appVersion,r=o.split("MQQBrowser/").length>1?i.qq.higher:i.qq.forbid,a=o.split("UCBrowser/").length>1?i.uc.allow:i.uc.forbid,c={uc:"",qq:""},s=!1;return this.ucAppList={sinaWeibo:["kSinaWeibo","SinaWeibo",11,"新浪微博"],weixin:["kWeixin","WechatFriends",1,"微信好友"],weixinFriend:["kWeixinFriend","WechatTimeline","8","微信朋友圈"],QQ:["kQQ","QQ","4","QQ好友"],QZone:["kQZone","QZone","3","QQ空间"]},this.share=function(e){var n=this.title,o=this.url,c=this.desc,l=this.img,u=this.img_title,f=this.from;if("undefined"!=platform_os&&""!=platform_os||(platform_os=this.getPlatform()),a)"QZone"==e&&(B="mqqapi://share/to_qzone?src_type=web&version=1&file_type=news&req_type=1&image_url="+l+"&title="+n+"&description="+c+"&url="+o+"&app_name="+f,k=document.createElement("div"),k.style.visibility="hidden",k.innerHTML='<iframe src="'+B+'" scrolling="no" width="1" height="1"></iframe>',document.body.appendChild(k),setTimeout(function(){k&&k.parentNode&&k.parentNode.removeChild(k)},5e3)),"iPhone"==platform_os&&"undefined"!=typeof ucbrowser?(e=this.ucAppList[e][0],ucbrowser.web_share(n,c,o,e,"","","")):"undefined"!=typeof ucweb?(e=this.ucAppList[e][1],ucweb.startRequest("shell.page_share",[n,c,o,e,"","",""])):t&&t();else if(r&&!s){e=""==e?"":this.ucAppList[e][2];var p={url:o,title:n,description:c,img_url:l,img_title:u,to_app:e,cus_txt:"请输入此时此刻想要分享的内容"};if(p=""==e?"":p,"undefined"!=typeof browser){if("undefined"!=typeof browser.app&&r==i.qq.higher)return browser.app.share(p),void(t&&t())}else"undefined"!=typeof window.qb&&r==i.qq.lower?window.qb.share(p):t&&t()}else t&&t()},this.isloadqqApi=function(){if(r){var e=c.qq<5.4?n.lower:n.higher,t=document.createElement("script"),i=document.getElementsByTagName("body")[0];t.setAttribute("src",e),i.appendChild(t)}},this.getPlatform=function(){return ua=navigator.userAgent.toLowerCase(),ua.indexOf("iphone")>-1||ua.indexOf("ipad")>-1||ua.indexOf("ios")>-1?"iPhone":ua.indexOf("android")>-1||ua.indexOf("linux")>-1?"Android":"Unknown"},this.is_weixin=function(){var e=o.toLowerCase();return"micromessenger"==e.match(/MicroMessenger/i)},this.getVersion=function(e){var t=e.split("."),n=parseFloat(t[0]+"."+t[1]);return n},this.init=function(){platform_os=this.getPlatform(),c.qq=r?this.getVersion(o.split("MQQBrowser/")[1]):0,c.uc=a?this.getVersion(o.split("UCBrowser/")[1]):0,s=this.is_weixin(),r&&c.qq<5.4&&"iPhone"==platform_os||r&&c.qq<5.3&&"Android"==platform_os?r=i.qq.forbid:r&&c.qq<5.4&&"Android"==platform_os?r=i.qq.lower:a&&(c.uc<10.2&&"iPhone"==platform_os||c.uc<9.7&&"Android"==platform_os)&&(a=i.uc.forbid),this.isloadqqApi()},this.init(),this.callShare=function(){if(platform_os=this.getPlatform(),r){var e=this;setTimeout(function(){e.share(e.channel)},500)}else a?this.share(this.channel):t&&t()},this};e.exports=n},function(e,t,n){(function(t){!function(n){function i(){}function o(e,t){return function(){e.apply(t,arguments)}}function r(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void r._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?c:s)(t.promise,e._value);var i;try{i=n(e._value)}catch(e){return void s(t.promise,e)}c(t.promise,i)}))}function c(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof r)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void f(o(n,t),e)}e._state=1,e._value=t,l(e)}catch(t){s(e,t)}}function s(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&r._immediateFn(function(){e._handled||r._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,c(t,e))},function(e){n||(n=!0,s(t,e))})}catch(e){if(n)return;n=!0,s(t,e)}}var p=setTimeout;r.prototype.catch=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var n=new this.constructor(i);return a(this,new u(e,t,n)),n},r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,n){function i(r,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var c=a.then;if("function"==typeof c)return void c.call(a,function(e){i(r,e)},n)}t[r]=a,0===--o&&e(t)}catch(e){n(e)}}if(0===t.length)return e([]);for(var o=t.length,r=0;r<t.length;r++)i(r,t[r])})},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){for(var i=0,o=e.length;i<o;i++)e[i].then(t,n)})},r._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){p(e,0)},r._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},r._setImmediateFn=function(e){r._immediateFn=e},r._setUnhandledRejectionFn=function(e){r._unhandledRejectionFn=e},"undefined"!=typeof e&&e.exports?e.exports=r:n.Promise||(n.Promise=r)}(this)}).call(t,n(10).setImmediate)},function(e,t,n){(function(e,i){function o(e,t){this._id=e,this._clearFn=t}var r=n(11).nextTick,a=Function.prototype.apply,c=Array.prototype.slice,s={},l=0;t.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=l++,i=!(arguments.length<2)&&c.call(arguments,1);return s[n]=!0,r(function(){s[n]&&(i?e.apply(null,i):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof i?i:function(e){delete s[e]}}).call(t,n(10).setImmediate,n(10).clearImmediate)},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(e){if(u===setTimeout)return setTimeout(e,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(e,0);try{return u(e,0)}catch(t){try{return u.call(null,e,0)}catch(t){return u.call(this,e,0)}}}function r(e){if(f===clearTimeout)return clearTimeout(e);if((f===i||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){m&&d&&(m=!1,d.length?h=d.concat(h):g=-1,h.length&&c())}function c(){if(!m){var e=o(a);m=!0;for(var t=h.length;t;){for(d=h,h=[];++g<t;)d&&d[g].run();g=-1,t=h.length}d=null,m=!1,r(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var u,f,p=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(e){u=n}try{f="function"==typeof clearTimeout?clearTimeout:i}catch(e){f=i}}();var d,h=[],m=!1,g=-1;p.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new s(e,t)),1!==h.length||m||o(c)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.binding=function(e){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(e){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},function(e,t){!function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function i(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return y.iterable&&(t[Symbol.iterator]=function(){return t}),t}function o(e){this.map={},e instanceof o?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function r(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function c(e){var t=new FileReader,n=a(t);return t.readAsArrayBuffer(e),n}function s(e){var t=new FileReader,n=a(t);return t.readAsText(e),n}function l(e){for(var t=new Uint8Array(e),n=new Array(t.length),i=0;i<t.length;i++)n[i]=String.fromCharCode(t[i]);return n.join("")}function u(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(y.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(y.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(y.arrayBuffer&&y.blob&&w(e))this._bodyArrayBuffer=u(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!b(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=u(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob&&(this.blob=function(){var e=r(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?r(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(c)}),this.text=function(){var e=r(this);if(e)return e;if(this._bodyBlob)return s(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(h)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(e){var t=e.toUpperCase();return C.indexOf(t)>-1?t:e}function d(e,t){t=t||{};var n=t.body;if(e instanceof d){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new o(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new o(t.headers)),this.method=p(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function h(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),i=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(i),decodeURIComponent(o))}}),t}function m(e){var t=new o;return e.split(/\r?\n/).forEach(function(e){var n=e.split(":"),i=n.shift().trim();if(i){var o=n.join(":").trim();t.append(i,o)}}),t}function g(e,t){t||(t={}),this.type="default",this.status="status"in t?t.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new o(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var y={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(y.arrayBuffer)var v=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],w=function(e){return e&&DataView.prototype.isPrototypeOf(e)},b=ArrayBuffer.isView||function(e){return e&&v.indexOf(Object.prototype.toString.call(e))>-1};o.prototype.append=function(e,i){e=t(e),i=n(i);var o=this.map[e];this.map[e]=o?o+","+i:i},o.prototype.delete=function(e){delete this.map[t(e)]},o.prototype.get=function(e){return e=t(e),this.has(e)?this.map[e]:null},o.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},o.prototype.set=function(e,i){this.map[t(e)]=n(i)},o.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},o.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),i(e)},o.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),i(e)},o.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),i(e)},y.iterable&&(o.prototype[Symbol.iterator]=o.prototype.entries);var C=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},f.call(d.prototype),f.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new o(this.headers),url:this.url})},g.error=function(){var e=new g(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];g.redirect=function(e,t){if(S.indexOf(t)===-1)throw new RangeError("Invalid status code");return new g(null,{status:t,headers:{location:e}})},e.Headers=o,e.Request=d,e.Response=g,e.fetch=function(e,t){return new Promise(function(n,i){var o=new d(e,t),r=new XMLHttpRequest;r.onload=function(){var e={status:r.status,statusText:r.statusText,headers:m(r.getAllResponseHeaders()||"")};e.url="responseURL"in r?r.responseURL:e.headers.get("X-Request-URL");var t="response"in r?r.response:r.responseText;n(new g(t,e))},r.onerror=function(){i(new TypeError("Network request failed"))},r.ontimeout=function(){i(new TypeError("Network request failed"))},r.open(o.method,o.url,!0),"include"===o.credentials&&(r.withCredentials=!0),"responseType"in r&&y.blob&&(r.responseType="blob"),o.headers.forEach(function(e,t){r.setRequestHeader(t,e)}),r.send("undefined"==typeof o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}}("undefined"!=typeof self?self:this)},function(e,t,n){!function(e,i){i(t,n(4),n(14))}(this,function(e,t,n){"use strict";function i(e,n,i){function o(){u.parentNode&&u.parentNode.removeChild(u);try{delete window[a]}catch(e){window[a]=null}f&&clearTimeout(f)}i||(i={});var r=i.prefix||"jsonp",a=i.name||r+T++;a=i.cdnCallback?i.cdnCallback:a;var c=i.param||"callback",s=null!=i.timeout?i.timeout:6e4,l=document.getElementsByTagName("script")[0]||document.head,u=void 0,f=void 0;return e=e+"?"+t.serialize(n),new Promise(function(t,n){window[a]=function(e){o(),t(e)},s&&(f=setTimeout(function(){o(),n(new Error("Timeout"))},s)),e+=(~e.indexOf("?")?"&":"?")+c+"="+encodeURIComponent(a),e=e.replace("?&","?"),u=document.createElement("script"),u.src=e,u.onerror=function(){return n(new Error("Script loading error."))},l.parentNode.insertBefore(u,l)})}function o(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t}function r(e){return e.json()}function a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.isArray(e)&&(e=e.join(","));var o=x(e),r=E.filter(function(e){return e.key===o});if(r.length)return i(r[0].path,{},{cdnCallback:r[0].jsonpCallback});var a=n.isMain,c=t.assign({functionId:a?"queryMainBabelAdverts":"getBabelAdvertInfo",body:JSON.stringify({ids:e}),uuid:P},N);return i(O,c,n)}function c(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.isArray(e)&&(e=e.join(","));var r=x(e),a=E.filter(function(e){return e.key===r});if(a.length)return i(a[0].path,{},{cdnCallback:a[0].jsonpCallback});var c=t.assign({functionId:o?"queryMainBabelProducts":"getBabelProductInfo",body:JSON.stringify({ids:e,todayFlag:n?"Y":"N"}),uuid:P},N);return i(O,c)}function s(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.isArray(e)&&(e=e.join(","));var o=x(e),r=E.filter(function(e){return e.key===o});if(r.length)return i(r[0].path,{},{cdnCallback:r[0].jsonpCallback});var a=n.isMain,c=t.assign({functionId:a?"queryMainBabelProducts":"getBabelProductInfo",body:JSON.stringify({ids:e,currentStageFlag:"Y"}),uuid:P},N);return i(O,c,n)}function l(e,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=x(e),a=E.filter(function(e){return e.key===r});if(a.length)return i(a[0].path,{},{cdnCallback:a[0].jsonpCallback});var c=t.assign({functionId:o?"queryMainBabelProducts":"getBabelProductInfo",body:JSON.stringify({groupId:e,stageId:n}),uuid:P},N);return i(O,c)}function u(e,n,o){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=x(e),c=E.filter(function(e){return e.key===a});if(c.length)return i(c[0].path,{},{cdnCallback:c[0].jsonpCallback});var s={groupId:e,num:n};o&&(s.position=o);var l=t.assign({functionId:r?"queryMainBabelProducts":"getBabelProductInfo",body:JSON.stringify(s),uuid:P},N);return i(O,l)}function f(e){var n=t.assign({functionId:"appointSMS",body:JSON.stringify({moduleId:e})},N);return i(O,n)}function p(e){var n=t.assign({functionId:"makeProductAppointment",body:JSON.stringify({skuId:e})},N);return i(O,n)}function d(e,n){t.isArray(n)&&(n=n.join(","));var o=t.assign({functionId:"queryProductAppointments",body:JSON.stringify({skuIds:n,activityId:e})},N);return i(O,o)}function h(e,n,o){var r=t.assign({functionId:"babelQueryActivity",body:JSON.stringify({activityId:e,pageId:n,moduleId:o})},N);return i(O,r)}function m(e){var n=t.assign({functionId:"batchQryModStock",body:JSON.stringify({moduleIds:e})},N);return i(O,n)}function g(e,n,o){var r=t.assign({functionId:"babelActivityLuckDraw",body:JSON.stringify({activityId:e,pageId:n,moduleId:o})},N);return i(O,r)}function y(e,n,o){var r=t.assign({functionId:"asyncLottery",body:JSON.stringify({activityId:e,pageId:n,moduleId:o})},N);return i(O,r)}function v(e,t){var n={sid:t||"",num:1,wareId:e,actId:1};return _.get("//m.jd.com/cart/add.json",n,{credentials:"omit"})}function w(){var e=t.assign({functionId:"verifyAppNewUser",body:JSON.stringify({})},N);return i(O,e)}function b(e,n){var o=t.assign({functionId:"babelActivityGetShareInfo",body:JSON.stringify({activityId:e,pageId:n})},N);return i(O,o)}function C(e,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=t.assign({functionId:"jdDiscoveryInventoryListing",body:JSON.stringify({page:e,lastId:o,tag:r}),uuid:t.getUUID()||n.get("mba_muid")||""},N);return i(O,a)}function S(){var e=t.assign({functionId:"verifyPlusAndNewUser",body:JSON.stringify({})},N);return i(O,e)}function A(e){var n={rankId:"rank3001",provinceId:"1",time:"1DAY"},o=t.assign(n,e),r=t.assign({functionId:"rankList",body:JSON.stringify(o)},N);return i(O,r,{param:"jsonp"})}function k(e){var n={provinceId:"1",time:"1DAY"},o=t.assign(n,e),r=t.assign({functionId:"rankParty",body:JSON.stringify(o)},N);return i(O,r,{param:"jsonp"})}function I(e,n,o){var r=t.assign({functionId:"bICouponDraw",body:JSON.stringify({activityId:e,pageId:n,moduleId:o})},N);return i(O,r)}function j(e){Object.prototype.toString.call(e).toLowerCase().indexOf("array")>0?E=e:console.log("setCDNConf需要传入数组")}n="default"in n?n.default:n;var T=0,_={};_.get=function(e,n,i){e=e+"?"+t.serialize(n);var a=t.assign({method:"GET",credentials:"include"},i);return fetch(e,a).then(o).then(r)},_.post=function(e,n,i){var a=t.assign({method:"POST",credentials:"include",headers:{},body:JSON.stingify(n)},i);return a.headers.Accept="application/json",a.headers["Content-Type"]="application/json",fetch(e,a).then(o).then(r)};var x=function(e){return"jsonp"+e.split(",").join("i")},O="//api.m.jd.com/client.action",N={clientVersion:"1.0.0",client:"wh5"},P=t.getUUID()||n.get("mba_muid")||"",E=[];e.getAdvGroups=a,e.getProductGroups=c,e.getProductGroupsCurStage=s,e.getProductGroupStage=l,e.getProductGroupStages=u,e.makeAppointment=f,e.booking=p,e.getBookingInfo=d,e.getLuckyDrawInfo=h,e.batchLuckyDrawStock=m,e.doLuckyDraw=g,e.doLuckyDrawAsync=y,e.addToCart=v,e.verifyNewUser=w,e.getShareInfo=b,e.getDiscoveryInventoryList=C,e.verifyPlusAndNewUser=S,e.getRankCates=A,e.getRankParty=k,e.bICouponDraw=I,e.setCDNConf=j,e.jsonp=i,e.ajax=_,Object.defineProperty(e,"__esModule",{value:!0})})},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e){return{path:e.path,domain:e.domain,expires:e.expires,secure:void 0!==e.secure&&e.secure}}function t(e){e=e||{};var t="";return t+=e.path?";path="+e.path:"",t+=e.domain?";domain="+e.domain:"",t+=e.expires?";expires="+e.expires.toUTCString():"",t+=e.secure?";secure":""}var n={set:function(n,i,o){return"string"!=typeof n||""===n?this:"undefined"==typeof i?this:(o&&(o=e(o)),document.cookie=n+"="+encodeURIComponent(i)+t(o),this)},get:function(e){e="(?:^|; )"+e+"(?:=([^;]*?))?(?:;|$)";var t=new RegExp(e),n=t.exec(document.cookie);return null!==n?decodeURIComponent(n[1]):null},all:function(){var e={};return document.cookie.split(/;\s/).forEach(function(t){var n=t.split("=");e[n[0]]=2===n.length?n[1]:void 0}),e},remove:function(e,t){return t=t||{},t.expires=new Date(0),this.set(e,"",t)},empty:function(){var e=this;return document.cookie.split(/;\s/).forEach(function(t){return e.remove(t.split("=")[0]||t)}),this},isEnabled:function(){return navigator.cookieEnabled}};return n})}]);
